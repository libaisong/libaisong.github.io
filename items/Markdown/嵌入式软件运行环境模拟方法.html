<!DOCTYPE html>

<html data-darkreader-mode="dynamic" data-darkreader-scheme="dark"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="嵌入式软件运行环境模拟方法">嵌入式软件运行环境模拟方法 </h1>
<p>嵌入式软件运行在嵌入式设备的主控芯片中，如MCU、MPU等，如果要在PC上进行软件在环（Software In the Loop, SIL）仿真，需要模拟一个嵌入式软件的运行环境，以保证仿真结果和实际运行的结果一致。嵌入式软件运行环境模拟的重点在于如何在PC中产生主控芯片的各个中断，有了中断之后，就有了嵌入式软件的运行环境，在对应中断中执行相应的软件任务，就可以实现嵌入式软件的仿真。</p>
<h2 id="1-嵌入式软件工作流程">1. 嵌入式软件工作流程 </h2>
<p>嵌入式软件可以划分为多个软件任务，可以根据任务优先级以及执行的快慢程度进行划分，比如电流环控制可以放在PWM中断中执行，速度环控制可以放在1ms任务中执行，而参数读写因为优先级低且对运行速度要求不高，可以放在后台任务中执行。通过合理设置主控芯片的外设，使其按照预定的周期触发中断事件，然后将各个任务放到对应中断中执行，就可以使嵌入式软件运行起来，如下图所示。</p>
<div class="mermaid" data-processed="true"><svg id="mermaid-1769306639509" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 1068.0625px;" viewBox="0 0 1068.0625 553.2000122070312" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#mermaid-1769306639509{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-1769306639509 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-1769306639509 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-1769306639509 .error-icon{fill:#552222;}#mermaid-1769306639509 .error-text{fill:#552222;stroke:#552222;}#mermaid-1769306639509 .edge-thickness-normal{stroke-width:1px;}#mermaid-1769306639509 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1769306639509 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1769306639509 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-1769306639509 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1769306639509 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1769306639509 .marker{fill:#333333;stroke:#333333;}#mermaid-1769306639509 .marker.cross{stroke:#333333;}#mermaid-1769306639509 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-1769306639509 p{margin:0;}#mermaid-1769306639509 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-1769306639509 .cluster-label text{fill:#333;}#mermaid-1769306639509 .cluster-label span{color:#333;}#mermaid-1769306639509 .cluster-label span p{background-color:transparent;}#mermaid-1769306639509 .label text,#mermaid-1769306639509 span{fill:#333;color:#333;}#mermaid-1769306639509 .node rect,#mermaid-1769306639509 .node circle,#mermaid-1769306639509 .node ellipse,#mermaid-1769306639509 .node polygon,#mermaid-1769306639509 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1769306639509 .rough-node .label text,#mermaid-1769306639509 .node .label text,#mermaid-1769306639509 .image-shape .label,#mermaid-1769306639509 .icon-shape .label{text-anchor:middle;}#mermaid-1769306639509 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-1769306639509 .rough-node .label,#mermaid-1769306639509 .node .label,#mermaid-1769306639509 .image-shape .label,#mermaid-1769306639509 .icon-shape .label{text-align:center;}#mermaid-1769306639509 .node.clickable{cursor:pointer;}#mermaid-1769306639509 .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-1769306639509 .arrowheadPath{fill:#333333;}#mermaid-1769306639509 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1769306639509 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1769306639509 .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-1769306639509 .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-1769306639509 .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-1769306639509 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-1769306639509 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1769306639509 .cluster text{fill:#333;}#mermaid-1769306639509 .cluster span{color:#333;}#mermaid-1769306639509 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1769306639509 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-1769306639509 rect.text{fill:none;stroke-width:0;}#mermaid-1769306639509 .icon-shape,#mermaid-1769306639509 .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-1769306639509 .icon-shape p,#mermaid-1769306639509 .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-1769306639509 .icon-shape rect,#mermaid-1769306639509 .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-1769306639509 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-1769306639509 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-1769306639509 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><style class="darkreader darkreader--sync" media="screen"></style><g><marker id="mermaid-1769306639509_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-1769306639509_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-1769306639509_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-1769306639509_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-1769306639509_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-1769306639509_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g class="root" transform="translate(0, 0)"><g class="clusters"><g class="cluster" id="后台" data-look="classic"><rect style="" x="8" y="8" width="194" height="537.2000000029802"></rect><g class="cluster-label" transform="translate(89, 8)"><foreignobject width="32" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>后台</p></span></div></foreignobject></g></g></g><g class="edgePaths"><path d="M105,99.5L105,105.75C105,112,105,124.5,105,136.333C105,148.167,105,159.333,105,164.917L105,170.5" id="L_上电_A_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_上电_A_0" data-points="W3sieCI6MTA1LCJ5Ijo5OS41fSx7IngiOjEwNSwieSI6MTM3fSx7IngiOjEwNSwieSI6MTc0LjV9XQ==" marker-end="url(#mermaid-1769306639509_flowchart-v2-pointEnd)"></path><path d="M105,228.5L105,234.75C105,241,105,253.5,105,265.333C105,277.167,105,288.333,105,293.917L105,299.5" id="L_A_B_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_B_0" data-points="W3sieCI6MTA1LCJ5IjoyMjguNX0seyJ4IjoxMDUsInkiOjI2Nn0seyJ4IjoxMDUsInkiOjMwMy41fV0=" marker-end="url(#mermaid-1769306639509_flowchart-v2-pointEnd)"></path><path d="M92.034,357.5L89.032,363.75C86.031,370,80.028,382.5,77.026,395C74.025,407.5,74.025,420,74.025,426.25L74.025,432.5" id="B-cyclic-special-1" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="B-cyclic-special-1" data-points="W3sieCI6OTIuMDMzNzIwOTMwMzg4NSwieSI6MzU3LjV9LHsieCI6NzQuMDI1MDAwMDAwMzcyNTMsInkiOjM5NX0seyJ4Ijo3NC4wMjUwMDAwMDAzNzI1MywieSI6NDMyLjV9XQ=="></path><path d="M74.025,432.6L74.025,438.85C74.025,445.1,74.025,457.6,79.181,470.1C84.336,482.6,94.648,495.1,99.803,501.35L104.959,507.6" id="B-cyclic-special-mid" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="B-cyclic-special-mid" data-points="W3sieCI6NzQuMDI1MDAwMDAwMzcyNTMsInkiOjQzMi42MDAwMDAwMDE0OTAxfSx7IngiOjc0LjAyNTAwMDAwMDM3MjUzLCJ5Ijo0NzAuMTAwMDAwMDAxNDkwMX0seyJ4IjoxMDQuOTU4NzU0OTkyNzI4OTMsInkiOjUwNy42MDAwMDAwMDE0OTAxfV0="></path><path d="M105.05,507.601L111.458,501.351C117.867,495.101,130.683,482.6,137.092,470.092C143.5,457.583,143.5,445.067,143.5,432.55C143.5,420.033,143.5,407.517,140.111,395.581C136.722,383.645,129.944,372.29,126.555,366.612L123.166,360.935" id="B-cyclic-special-2" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="B-cyclic-special-2" data-points="W3sieCI6MTA1LjA1MDAwMDAwMDc0NTA2LCJ5Ijo1MDcuNjAxMjMzNzY3NzQxM30seyJ4IjoxNDMuNSwieSI6NDcwLjEwMDAwMDAwMTQ5MDF9LHsieCI6MTQzLjUsInkiOjQzMi41NTAwMDAwMDA3NDUwNn0seyJ4IjoxNDMuNSwieSI6Mzk1fSx7IngiOjEyMS4xMTYyNzkwNjk3Njc0NCwieSI6MzU3LjV9XQ==" marker-end="url(#mermaid-1769306639509_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_上电_A_0" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_A_B_0" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="B-cyclic-special-1" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="B-cyclic-special-mid" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="B-cyclic-special-2" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g class="node default" id="flowchart-上电-9" transform="translate(105, 72.5)"><rect class="basic label-container" style="" x="-46" y="-27" width="92" height="54"></rect><g class="label" style="" transform="translate(-16, -12)"><rect></rect><foreignobject width="32" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>上电</p></span></div></foreignobject></g></g><g class="node default" id="flowchart-A-10" transform="translate(105, 201.5)"><rect class="basic label-container" style="" x="-54" y="-27" width="108" height="54"></rect><g class="label" style="" transform="translate(-24, -12)"><rect></rect><foreignobject width="48" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>初始化</p></span></div></foreignobject></g></g><g class="node default" id="flowchart-B-12" transform="translate(105, 330.5)"><rect class="basic label-container" style="" x="-62" y="-27" width="124" height="54"></rect><g class="label" style="" transform="translate(-32, -12)"><rect></rect><foreignobject width="64" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>后台任务</p></span></div></foreignobject></g></g><g class="label edgeLabel" id="B---B---1" transform="translate(74.02500000037253, 432.55000000074506)"><rect width="0.1" height="0.1"></rect><g class="label" style="" transform="translate(0, 0)"><rect></rect><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 10px; text-align: center;"><span class="nodeLabel"></span></div></foreignobject></g></g><g class="label edgeLabel" id="B---B---2" transform="translate(105, 507.6500000022352)"><rect width="0.1" height="0.1"></rect><g class="label" style="" transform="translate(0, 0)"><rect></rect><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 10px; text-align: center;"><span class="nodeLabel"></span></div></foreignobject></g></g></g></g><g class="root" transform="translate(244, 75.10000610351562)"><g class="clusters"><g class="cluster" id="1ms中断" data-look="classic"><rect style="" x="8" y="8" width="238.14999389648438" height="387"></rect><g class="cluster-label" transform="translate(96.99999618530273, 8)"><foreignobject width="60.150001525878906" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>1ms中断</p></span></div></foreignobject></g></g></g><g class="edgePaths"><path d="M127.075,99.5L127.075,105.75C127.075,112,127.075,124.5,127.075,136.333C127.075,148.167,127.075,159.333,127.075,164.917L127.075,170.5" id="L_1ms定时器中断_1ms任务_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_1ms定时器中断_1ms任务_0" data-points="W3sieCI6MTI3LjA3NDk5Njk0ODI0MjE5LCJ5Ijo5OS41fSx7IngiOjEyNy4wNzQ5OTY5NDgyNDIxOSwieSI6MTM3fSx7IngiOjEyNy4wNzQ5OTY5NDgyNDIxOSwieSI6MTc0LjV9XQ==" marker-end="url(#mermaid-1769306639509_flowchart-v2-pointEnd)"></path><path d="M127.075,228.5L127.075,234.75C127.075,241,127.075,253.5,127.075,265.333C127.075,277.167,127.075,288.333,127.075,293.917L127.075,299.5" id="L_1ms任务_1ms中断结束_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_1ms任务_1ms中断结束_0" data-points="W3sieCI6MTI3LjA3NDk5Njk0ODI0MjE5LCJ5IjoyMjguNX0seyJ4IjoxMjcuMDc0OTk2OTQ4MjQyMTksInkiOjI2Nn0seyJ4IjoxMjcuMDc0OTk2OTQ4MjQyMTksInkiOjMwMy41fV0=" marker-end="url(#mermaid-1769306639509_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_1ms定时器中断_1ms任务_0" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_1ms任务_1ms中断结束_0" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g class="node default" id="flowchart-1ms定时器中断-6" transform="translate(127.07499694824219, 72.5)"><rect class="basic label-container" style="" x="-84.07500076293945" y="-27" width="168.1500015258789" height="54"></rect><g class="label" style="" transform="translate(-54.07500076293945, -12)"><rect></rect><foreignobject width="108.1500015258789" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>1ms定时器中断</p></span></div></foreignobject></g></g><g class="node default" id="flowchart-1ms任务-7" transform="translate(127.07499694824219, 201.5)"><rect class="basic label-container" style="" x="-60.07500076293945" y="-27" width="120.1500015258789" height="54"></rect><g class="label" style="" transform="translate(-30.075000762939453, -12)"><rect></rect><foreignobject width="60.150001525878906" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>1ms任务</p></span></div></foreignobject></g></g><g class="node default" id="flowchart-1ms中断结束-8" transform="translate(127.07499694824219, 330.5)"><rect class="basic label-container" style="" x="-76.07500076293945" y="-27" width="152.1500015258789" height="54"></rect><g class="label" style="" transform="translate(-46.07500076293945, -12)"><rect></rect><foreignobject width="92.1500015258789" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>1ms中断结束</p></span></div></foreignobject></g></g></g></g><g class="root" transform="translate(532.1499938964844, 75.10000610351562)"><g class="clusters"><g class="cluster" id="PWM中断" data-look="classic"><rect style="" x="8" y="8" width="243.91250610351562" height="387"></rect><g class="cluster-label" transform="translate(97.00000381469727, 8)"><foreignobject width="65.9124984741211" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>PWM中断</p></span></div></foreignobject></g></g></g><g class="edgePaths"><path d="M129.956,99.5L129.956,105.75C129.956,112,129.956,124.5,129.956,136.333C129.956,148.167,129.956,159.333,129.956,164.917L129.956,170.5" id="L_PWM定时器中断_PWM任务_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_PWM定时器中断_PWM任务_0" data-points="W3sieCI6MTI5Ljk1NjI1MzA1MTc1NzgsInkiOjk5LjV9LHsieCI6MTI5Ljk1NjI1MzA1MTc1NzgsInkiOjEzN30seyJ4IjoxMjkuOTU2MjUzMDUxNzU3OCwieSI6MTc0LjV9XQ==" marker-end="url(#mermaid-1769306639509_flowchart-v2-pointEnd)"></path><path d="M129.956,228.5L129.956,234.75C129.956,241,129.956,253.5,129.956,265.333C129.956,277.167,129.956,288.333,129.956,293.917L129.956,299.5" id="L_PWM任务_PWM中断结束_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_PWM任务_PWM中断结束_0" data-points="W3sieCI6MTI5Ljk1NjI1MzA1MTc1NzgsInkiOjIyOC41fSx7IngiOjEyOS45NTYyNTMwNTE3NTc4LCJ5IjoyNjZ9LHsieCI6MTI5Ljk1NjI1MzA1MTc1NzgsInkiOjMwMy41fV0=" marker-end="url(#mermaid-1769306639509_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_PWM定时器中断_PWM任务_0" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_PWM任务_PWM中断结束_0" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g class="node default" id="flowchart-PWM定时器中断-3" transform="translate(129.9562530517578, 72.5)"><rect class="basic label-container" style="" x="-86.95624923706055" y="-27" width="173.9124984741211" height="54"></rect><g class="label" style="" transform="translate(-56.95624923706055, -12)"><rect></rect><foreignobject width="113.9124984741211" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>PWM定时器中断</p></span></div></foreignobject></g></g><g class="node default" id="flowchart-PWM任务-4" transform="translate(129.9562530517578, 201.5)"><rect class="basic label-container" style="" x="-62.95624923706055" y="-27" width="125.9124984741211" height="54"></rect><g class="label" style="" transform="translate(-32.95624923706055, -12)"><rect></rect><foreignobject width="65.9124984741211" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>PWM任务</p></span></div></foreignobject></g></g><g class="node default" id="flowchart-PWM中断结束-5" transform="translate(129.9562530517578, 330.5)"><rect class="basic label-container" style="" x="-78.95624923706055" y="-27" width="157.9124984741211" height="54"></rect><g class="label" style="" transform="translate(-48.95624923706055, -12)"><rect></rect><foreignobject width="97.9124984741211" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>PWM中断结束</p></span></div></foreignobject></g></g></g></g><g class="root" transform="translate(826.0625, 75.10000610351562)"><g class="clusters"><g class="cluster" id="其它中断" data-look="classic"><rect style="" x="8" y="8" width="226" height="387"></rect><g class="cluster-label" transform="translate(89, 8)"><foreignobject width="64" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>其它中断</p></span></div></foreignobject></g></g></g><g class="edgePaths"><path d="M121,99.5L121,105.75C121,112,121,124.5,121,136.333C121,148.167,121,159.333,121,164.917L121,170.5" id="L_其它外设中断_其它任务_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_其它外设中断_其它任务_0" data-points="W3sieCI6MTIxLCJ5Ijo5OS41fSx7IngiOjEyMSwieSI6MTM3fSx7IngiOjEyMSwieSI6MTc0LjV9XQ==" marker-end="url(#mermaid-1769306639509_flowchart-v2-pointEnd)"></path><path d="M121,228.5L121,234.75C121,241,121,253.5,121,265.333C121,277.167,121,288.333,121,293.917L121,299.5" id="L_其它任务_其它中断结束_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_其它任务_其它中断结束_0" data-points="W3sieCI6MTIxLCJ5IjoyMjguNX0seyJ4IjoxMjEsInkiOjI2Nn0seyJ4IjoxMjEsInkiOjMwMy41fV0=" marker-end="url(#mermaid-1769306639509_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_其它外设中断_其它任务_0" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_其它任务_其它中断结束_0" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g class="node default" id="flowchart-其它外设中断-0" transform="translate(121, 72.5)"><rect class="basic label-container" style="" x="-78" y="-27" width="156" height="54"></rect><g class="label" style="" transform="translate(-48, -12)"><rect></rect><foreignobject width="96" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>其它外设中断</p></span></div></foreignobject></g></g><g class="node default" id="flowchart-其它任务-1" transform="translate(121, 201.5)"><rect class="basic label-container" style="" x="-62" y="-27" width="124" height="54"></rect><g class="label" style="" transform="translate(-32, -12)"><rect></rect><foreignobject width="64" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>其它任务</p></span></div></foreignobject></g></g><g class="node default" id="flowchart-其它中断结束-2" transform="translate(121, 330.5)"><rect class="basic label-container" style="" x="-78" y="-27" width="156" height="54"></rect><g class="label" style="" transform="translate(-48, -12)"><rect></rect><foreignobject width="96" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>其它中断结束</p></span></div></foreignobject></g></g></g></g></g></g></g></svg></div><h2 id="2-嵌入式软件运行环境模拟">2. 嵌入式软件运行环境模拟 </h2>
<p>嵌入式软件要想在PC中运行起来，就需要在PC中模拟各个外设中断的情况，本文给出一种模拟的方法。假设主控芯片时钟频率为1Mhz，仿真时间为10s，那么可以建立一个执行<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>10</mn><mn>7</mn></msup></mrow><annotation encoding="application/x-tex">10^7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span></span></span></span></span></span></span></span>次的循环，那么每循环一次代表时间增加1us，如果一个中断任务的执行周期为1ms，那么每循环1000次就可以执行一次该任务，为了简化可以将后台任务设置为一个固定周期（比如2ms），整个流程如下图所示。</p>
<div class="mermaid" data-processed="true"><svg id="mermaid-1769306639789" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 940.5531005859375px;" viewBox="0 0 940.5531005859375 1752.546875" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#mermaid-1769306639789{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-1769306639789 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-1769306639789 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-1769306639789 .error-icon{fill:#552222;}#mermaid-1769306639789 .error-text{fill:#552222;stroke:#552222;}#mermaid-1769306639789 .edge-thickness-normal{stroke-width:1px;}#mermaid-1769306639789 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1769306639789 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1769306639789 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-1769306639789 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1769306639789 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1769306639789 .marker{fill:#333333;stroke:#333333;}#mermaid-1769306639789 .marker.cross{stroke:#333333;}#mermaid-1769306639789 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-1769306639789 p{margin:0;}#mermaid-1769306639789 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-1769306639789 .cluster-label text{fill:#333;}#mermaid-1769306639789 .cluster-label span{color:#333;}#mermaid-1769306639789 .cluster-label span p{background-color:transparent;}#mermaid-1769306639789 .label text,#mermaid-1769306639789 span{fill:#333;color:#333;}#mermaid-1769306639789 .node rect,#mermaid-1769306639789 .node circle,#mermaid-1769306639789 .node ellipse,#mermaid-1769306639789 .node polygon,#mermaid-1769306639789 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1769306639789 .rough-node .label text,#mermaid-1769306639789 .node .label text,#mermaid-1769306639789 .image-shape .label,#mermaid-1769306639789 .icon-shape .label{text-anchor:middle;}#mermaid-1769306639789 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-1769306639789 .rough-node .label,#mermaid-1769306639789 .node .label,#mermaid-1769306639789 .image-shape .label,#mermaid-1769306639789 .icon-shape .label{text-align:center;}#mermaid-1769306639789 .node.clickable{cursor:pointer;}#mermaid-1769306639789 .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-1769306639789 .arrowheadPath{fill:#333333;}#mermaid-1769306639789 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1769306639789 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1769306639789 .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-1769306639789 .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-1769306639789 .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-1769306639789 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-1769306639789 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1769306639789 .cluster text{fill:#333;}#mermaid-1769306639789 .cluster span{color:#333;}#mermaid-1769306639789 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1769306639789 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-1769306639789 rect.text{fill:none;stroke-width:0;}#mermaid-1769306639789 .icon-shape,#mermaid-1769306639789 .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-1769306639789 .icon-shape p,#mermaid-1769306639789 .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-1769306639789 .icon-shape rect,#mermaid-1769306639789 .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-1769306639789 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-1769306639789 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-1769306639789 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><style class="darkreader darkreader--sync" media="screen"></style><g><marker id="mermaid-1769306639789_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-1769306639789_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-1769306639789_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-1769306639789_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-1769306639789_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-1769306639789_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M573.053,62L573.053,66.167C573.053,70.333,573.053,78.667,573.053,86.333C573.053,94,573.053,101,573.053,104.5L573.053,108" id="L_上电_A_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_上电_A_0" data-points="W3sieCI6NTczLjA1MzExNTg0NDcyNjYsInkiOjYyfSx7IngiOjU3My4wNTMxMTU4NDQ3MjY2LCJ5Ijo4N30seyJ4Ijo1NzMuMDUzMTE1ODQ0NzI2NiwieSI6MTEyfV0=" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path><path d="M573.053,1616.547L573.053,1622.714C573.053,1628.88,573.053,1641.214,573.053,1652.88C573.053,1664.547,573.053,1675.547,573.053,1681.047L573.053,1686.547" id="L_H_结束_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_H_结束_0" data-points="W3sieCI6NTczLjA1MzExNTg0NDcyNjYsInkiOjE2MTYuNTQ2ODc1fSx7IngiOjU3My4wNTMxMTU4NDQ3MjY2LCJ5IjoxNjUzLjU0Njg3NX0seyJ4Ijo1NzMuMDUzMTE1ODQ0NzI2NiwieSI6MTY5MC41NDY4NzV9XQ==" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path><path d="M573.053,166L573.053,170.167C573.053,174.333,573.053,182.667,573.053,190.333C573.053,198,573.053,205,573.053,208.5L573.053,212" id="L_A_后台任务_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_后台任务_0" data-points="W3sieCI6NTczLjA1MzExNTg0NDcyNjYsInkiOjE2Nn0seyJ4Ijo1NzMuMDUzMTE1ODQ0NzI2NiwieSI6MTkxfSx7IngiOjU3My4wNTMxMTU4NDQ3MjY2LCJ5IjoyMTZ9XQ==" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path><path d="M404.722,461L398.996,465.167C393.271,469.333,381.82,477.667,376.094,485.333C370.369,493,370.369,500,370.369,503.5L370.369,507" id="L_后台任务_1ms任务_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_后台任务_1ms任务_0" data-points="W3sieCI6NDA0LjcyMjAyNzI3NzU0MjM0LCJ5Ijo0NjF9LHsieCI6MzcwLjM2ODc0Mzg5NjQ4NDQsInkiOjQ4Nn0seyJ4IjozNzAuMzY4NzQzODk2NDg0NCwieSI6NTExfV0=" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path><path d="M370.369,753.113L370.369,757.279C370.369,761.446,370.369,769.779,370.369,777.446C370.369,785.113,370.369,792.113,370.369,795.613L370.369,799.113" id="L_1ms任务_PWM任务_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_1ms任务_PWM任务_0" data-points="W3sieCI6MzcwLjM2ODc0Mzg5NjQ4NDQsInkiOjc1My4xMTI1MDMwNTE3NTc4fSx7IngiOjM3MC4zNjg3NDM4OTY0ODQ0LCJ5Ijo3NzguMTEyNTAzMDUxNzU3OH0seyJ4IjozNzAuMzY4NzQzODk2NDg0NCwieSI6ODAzLjExMjUwMzA1MTc1Nzh9XQ==" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path><path d="M370.369,1049.547L370.369,1053.714C370.369,1057.88,370.369,1066.214,370.369,1073.88C370.369,1081.547,370.369,1088.547,370.369,1092.047L370.369,1095.547" id="L_PWM任务_其它任务_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_PWM任务_其它任务_0" data-points="W3sieCI6MzcwLjM2ODc0Mzg5NjQ4NDQsInkiOjEwNDkuNTQ2ODc1fSx7IngiOjM3MC4zNjg3NDM4OTY0ODQ0LCJ5IjoxMDc0LjU0Njg3NX0seyJ4IjozNzAuMzY4NzQzODk2NDg0NCwieSI6MTA5OS41NDY4NzV9XQ==" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path><path d="M370.369,1344.547L370.369,1350.714C370.369,1356.88,370.369,1369.214,387.096,1386.604C403.823,1403.994,437.277,1426.442,454.004,1437.666L470.732,1448.89" id="L_其它任务_H_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_其它任务_H_0" data-points="W3sieCI6MzcwLjM2ODc0Mzg5NjQ4NDQsInkiOjEzNDQuNTQ2ODc1fSx7IngiOjM3MC4zNjg3NDM4OTY0ODQ0LCJ5IjoxMzgxLjU0Njg3NX0seyJ4Ijo0NzQuMDUzMTE1ODQ0NzI2NTYsInkiOjE0NTEuMTE4NDY3NzY0NzQzNn1d" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path><path d="M672.053,1451.118L689.334,1439.523C706.615,1427.928,741.176,1404.737,758.457,1366.559C775.737,1328.38,775.737,1275.214,775.737,1224.047C775.737,1172.88,775.737,1123.714,775.737,1074.427C775.737,1025.141,775.737,975.735,775.737,926.33C775.737,876.924,775.737,827.518,775.737,778.473C775.737,729.427,775.737,680.742,775.737,632.056C775.737,583.371,775.737,534.685,770.551,506.568C765.364,478.451,754.991,470.902,749.805,467.128L744.618,463.354" id="L_H_后台任务_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_H_后台任务_0" data-points="W3sieCI6NjcyLjA1MzExNTg0NDcyNjYsInkiOjE0NTEuMTE4NDY3NzY0NzQzNn0seyJ4Ijo3NzUuNzM3NDg3NzkyOTY4OCwieSI6MTM4MS41NDY4NzV9LHsieCI6Nzc1LjczNzQ4Nzc5Mjk2ODgsInkiOjEyMjIuMDQ2ODc1fSx7IngiOjc3NS43Mzc0ODc3OTI5Njg4LCJ5IjoxMDc0LjU0Njg3NX0seyJ4Ijo3NzUuNzM3NDg3NzkyOTY4OCwieSI6OTI2LjMyOTY4OTAyNTg3ODl9LHsieCI6Nzc1LjczNzQ4Nzc5Mjk2ODgsInkiOjc3OC4xMTI1MDMwNTE3NTc4fSx7IngiOjc3NS43Mzc0ODc3OTI5Njg4LCJ5Ijo2MzIuMDU2MjUxNTI1ODc4OX0seyJ4Ijo3NzUuNzM3NDg3NzkyOTY4OCwieSI6NDg2fSx7IngiOjc0MS4zODQyMDQ0MTE5MTA4LCJ5Ijo0NjF9XQ==" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_上电_A_0" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel" transform="translate(573.0531158447266, 1653.546875)"><g class="label" data-id="L_H_结束_0" transform="translate(-8, -12)"><foreignobject width="16" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>是</p></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_A_后台任务_0" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_后台任务_1ms任务_0" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_1ms任务_PWM任务_0" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_PWM任务_其它任务_0" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel" transform="translate(370.3687438964844, 1381.546875)"><g class="label" data-id="L_其它任务_H_0" transform="translate(-44.20000076293945, -12)"><foreignobject width="88.4000015258789" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>循环次数加1</p></span></div></foreignobject></g></g><g class="edgeLabel" transform="translate(775.7374877929688, 926.3296890258789)"><g class="label" data-id="L_H_后台任务_0" transform="translate(-8, -12)"><foreignobject width="16" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>否</p></span></div></foreignobject></g></g></g><g class="nodes"><g class="root" transform="translate(205.55311584472656, 208)"><g class="clusters"><g class="cluster" id="后台任务" data-look="classic"><rect style="" x="8" y="8" width="719" height="245"></rect><g class="cluster-label" transform="translate(335.5, 8)"><foreignobject width="64" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>后台任务</p></span></div></foreignobject></g></g></g><g class="edgePaths"><path d="M192.944,144.556L203.62,147.63C214.296,150.704,235.648,156.852,253.241,159.926C270.833,163,284.667,163,291.583,163L298.5,163" id="L_B2_C2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B2_C2_0" data-points="W3sieCI6MTkyLjk0NDEwODc2MTMyOTMyLCJ5IjoxNDQuNTU1ODkxMjM4NjcwNjh9LHsieCI6MjU3LCJ5IjoxNjN9LHsieCI6MzAyLjUsInkiOjE2M31d" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path><path d="M190.69,105.19L201.741,101.491C212.793,97.793,234.897,90.397,266.532,86.698C298.167,83,339.333,83,379.167,83C419,83,457.5,83,483.288,85.434C509.076,87.868,522.152,92.736,528.69,95.17L535.228,97.604" id="L_B2_E2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B2_E2_0" data-points="W3sieCI6MTkwLjY4OTUwNDM3MzE3Nzg0LCJ5IjoxMDUuMTg5NTA0MzczMTc3ODR9LHsieCI6MjU3LCJ5Ijo4M30seyJ4IjozODAuNSwieSI6ODN9LHsieCI6NDk2LCJ5Ijo4M30seyJ4Ijo1MzguOTc2NzQ0MTg2MDQ2NSwieSI6OTl9XQ==" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path><path d="M458.5,163L464.75,163C471,163,483.5,163,495.365,161.201C507.23,159.402,518.46,155.805,524.076,154.006L529.691,152.207" id="L_C2_E2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C2_E2_0" data-points="W3sieCI6NDU4LjUsInkiOjE2M30seyJ4Ijo0OTYsInkiOjE2M30seyJ4Ijo1MzMuNSwieSI6MTUwLjk4NzAxMjk4NzAxMjk3fV0=" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(257, 163)"><g class="label" data-id="L_B2_C2_0" transform="translate(-8, -12)"><foreignobject width="16" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>是</p></span></div></foreignobject></g></g><g class="edgeLabel" transform="translate(380.5, 83)"><g class="label" data-id="L_B2_E2_0" transform="translate(-8, -12)"><foreignobject width="16" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>否</p></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_C2_E2_0" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g class="node default" id="flowchart-B2-21" transform="translate(128.5, 126)"><polygon points="83,0 166,-83 83,-166 0,-83" class="label-container" transform="translate(-82.5, 83)"></polygon><g class="label" style="" transform="translate(-56, -12)"><rect></rect><foreignobject width="112" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>执行后台任务？</p></span></div></foreignobject></g></g><g class="node default" id="flowchart-C2-23" transform="translate(380.5, 163)"><rect class="basic label-container" style="" x="-78" y="-27" width="156" height="54"></rect><g class="label" style="" transform="translate(-48, -12)"><rect></rect><foreignobject width="96" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>执行后台任务</p></span></div></foreignobject></g></g><g class="node default" id="flowchart-E2-25" transform="translate(611.5, 126)"><rect class="basic label-container" style="" x="-78" y="-27" width="156" height="54"></rect><g class="label" style="" transform="translate(-48, -12)"><rect></rect><foreignobject width="96" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>后台任务结束</p></span></div></foreignobject></g></g></g></g><g class="root" transform="translate(8.64373779296875, 503)"><g class="clusters"><g class="cluster" id="1ms任务" data-look="classic"><rect style="" x="8" y="8" width="707.4499816894531" height="242.11249542236328"></rect><g class="cluster-label" transform="translate(331.6499900817871, 8)"><foreignobject width="60.150001525878906" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>1ms任务</p></span></div></foreignobject></g></g></g><g class="edgePaths"><path d="M189.311,142.414L199.951,145.524C210.591,148.634,231.87,154.855,249.427,157.965C266.983,161.075,280.817,161.075,287.733,161.075L294.65,161.075" id="L_B3_C3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B3_C3_0" data-points="W3sieCI6MTg5LjMxMTE1ODg0ODAzMTcsInkiOjE0Mi40MTM4MzE5OTY2OTQ4NX0seyJ4IjoyNTMuMTQ5OTkzODk2NDg0MzgsInkiOjE2MS4wNzQ5OTY5NDgyNDIyfSx7IngiOjI5OC42NDk5OTM4OTY0ODQ0LCJ5IjoxNjEuMDc0OTk2OTQ4MjQyMn1d" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path><path d="M187.437,103.862L198.389,100.224C209.341,96.587,231.246,89.312,262.46,85.675C293.675,82.037,334.2,82.037,373.392,82.037C412.583,82.037,450.442,82.037,475.517,84.312C500.592,86.587,512.884,91.137,519.03,93.412L525.176,95.687" id="L_B3_E3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B3_E3_0" data-points="W3sieCI6MTg3LjQzNjg0MTUzMjE2MDM3LCJ5IjoxMDMuODYxODQ0NTgzOTE4MjR9LHsieCI6MjUzLjE0OTk5Mzg5NjQ4NDM4LCJ5Ijo4Mi4wMzc0OTg0NzQxMjExfSx7IngiOjM3NC43MjQ5OTA4NDQ3MjY1NiwieSI6ODIuMDM3NDk4NDc0MTIxMX0seyJ4Ijo0ODguMjk5OTg3NzkyOTY4NzUsInkiOjgyLjAzNzQ5ODQ3NDEyMTF9LHsieCI6NTI4LjkyNzYxNTYzMjQwNiwieSI6OTcuMDc0OTk2OTQ4MjQyMTl9XQ==" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path><path d="M450.8,161.075L457.05,161.075C463.3,161.075,475.8,161.075,487.666,159.245C499.532,157.416,510.764,153.757,516.381,151.927L521.997,150.097" id="L_C3_E3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C3_E3_0" data-points="W3sieCI6NDUwLjc5OTk4Nzc5Mjk2ODc1LCJ5IjoxNjEuMDc0OTk2OTQ4MjQyMn0seyJ4Ijo0ODguMjk5OTg3NzkyOTY4NzUsInkiOjE2MS4wNzQ5OTY5NDgyNDIyfSx7IngiOjUyNS43OTk5ODc3OTI5Njg4LCJ5IjoxNDguODU4Mzk5NjU3NjIyOH1d" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(253.14999389648438, 161.0749969482422)"><g class="label" data-id="L_B3_C3_0" transform="translate(-8, -12)"><foreignobject width="16" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>是</p></span></div></foreignobject></g></g><g class="edgeLabel" transform="translate(374.72499084472656, 82.0374984741211)"><g class="label" data-id="L_B3_E3_0" transform="translate(-8, -12)"><foreignobject width="16" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>否</p></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_C3_E3_0" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g class="node default" id="flowchart-B3-14" transform="translate(126.57499694824219, 124.07499694824219)"><polygon points="81.07500076293945,0 162.1500015258789,-81.07500076293945 81.07500076293945,-162.1500015258789 0,-81.07500076293945" class="label-container" transform="translate(-80.57500076293945, 81.07500076293945)"></polygon><g class="label" style="" transform="translate(-54.07500076293945, -12)"><rect></rect><foreignobject width="108.1500015258789" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>执行1ms任务？</p></span></div></foreignobject></g></g><g class="node default" id="flowchart-C3-16" transform="translate(374.72499084472656, 161.0749969482422)"><rect class="basic label-container" style="" x="-76.07500076293945" y="-27" width="152.1500015258789" height="54"></rect><g class="label" style="" transform="translate(-46.07500076293945, -12)"><rect></rect><foreignobject width="92.1500015258789" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>执行1ms任务</p></span></div></foreignobject></g></g><g class="node default" id="flowchart-E3-18" transform="translate(601.8749847412109, 124.07499694824219)"><rect class="basic label-container" style="" x="-76.07500076293945" y="-27" width="152.1500015258789" height="54"></rect><g class="label" style="" transform="translate(-46.07500076293945, -12)"><rect></rect><foreignobject width="92.1500015258789" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>1ms任务结束</p></span></div></foreignobject></g></g></g></g><g class="root" transform="translate(0, 795.1125030517578)"><g class="clusters"><g class="cluster" id="PWM任务" data-look="classic"><rect style="" x="8" y="8" width="724.7375183105469" height="246.43437957763672"></rect><g class="cluster-label" transform="translate(337.4125099182129, 8)"><foreignobject width="65.9124984741211" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>PWM任务</p></span></div></foreignobject></g></g></g><g class="edgePaths"><path d="M194.751,145.618L205.444,148.674C216.138,151.731,237.525,157.844,255.136,160.9C272.746,163.956,286.579,163.956,293.496,163.956L300.413,163.956" id="L_B4_C4_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B4_C4_0" data-points="W3sieCI6MTk0Ljc1MDY1NzY4NDEwNDUsInkiOjE0NS42MTgxMDE0NzExNjg5fSx7IngiOjI1OC45MTI1MDYxMDM1MTU2LCJ5IjoxNjMuOTU2MjUzMDUxNzU3OH0seyJ4IjozMDQuNDEyNTA2MTAzNTE1NiwieSI6MTYzLjk1NjI1MzA1MTc1Nzh9XQ==" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path><path d="M192.305,105.848L203.406,102.12C214.507,98.392,236.71,90.935,268.554,87.207C300.398,83.478,341.883,83.478,382.035,83.478C422.188,83.478,461.006,83.478,487.147,85.991C513.288,88.504,526.751,93.531,533.483,96.044L540.214,98.557" id="L_B4_E4_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B4_E4_0" data-points="W3sieCI6MTkyLjMwNDcyNzUyNDUwNjcyLCJ5IjoxMDUuODQ4NDc0NDcyNzQ4OTN9LHsieCI6MjU4LjkxMjUwNjEwMzUxNTYsInkiOjgzLjQ3ODEyNjUyNTg3ODl9LHsieCI6MzgzLjM2ODc1OTE1NTI3MzQ0LCJ5Ijo4My40NzgxMjY1MjU4Nzg5fSx7IngiOjQ5OS44MjUwMTIyMDcwMzEyNSwieSI6ODMuNDc4MTI2NTI1ODc4OX0seyJ4Ijo1NDMuOTYxNzA4NjUzMTAzNCwieSI6OTkuOTU2MjUzMDUxNzU3ODF9XQ==" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path><path d="M462.325,163.956L468.575,163.956C474.825,163.956,487.325,163.956,499.19,162.172C511.054,160.389,522.284,156.821,527.898,155.037L533.513,153.253" id="L_C4_E4_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C4_E4_0" data-points="W3sieCI6NDYyLjMyNTAxMjIwNzAzMTI1LCJ5IjoxNjMuOTU2MjUzMDUxNzU3OH0seyJ4Ijo0OTkuODI1MDEyMjA3MDMxMjUsInkiOjE2My45NTYyNTMwNTE3NTc4fSx7IngiOjUzNy4zMjUwMTIyMDcwMzEyLCJ5IjoxNTIuMDQxOTA3ODQ3OTU1NDl9XQ==" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(258.9125061035156, 163.9562530517578)"><g class="label" data-id="L_B4_C4_0" transform="translate(-8, -12)"><foreignobject width="16" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>是</p></span></div></foreignobject></g></g><g class="edgeLabel" transform="translate(383.36875915527344, 83.4781265258789)"><g class="label" data-id="L_B4_E4_0" transform="translate(-8, -12)"><foreignobject width="16" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>否</p></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_C4_E4_0" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g class="node default" id="flowchart-B4-7" transform="translate(129.4562530517578, 126.95625305175781)"><polygon points="83.95624923706055,0 167.9124984741211,-83.95624923706055 83.95624923706055,-167.9124984741211 0,-83.95624923706055" class="label-container" transform="translate(-83.45624923706055, 83.95624923706055)"></polygon><g class="label" style="" transform="translate(-56.95624923706055, -12)"><rect></rect><foreignobject width="113.9124984741211" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>执行PWM任务？</p></span></div></foreignobject></g></g><g class="node default" id="flowchart-C4-9" transform="translate(383.36875915527344, 163.9562530517578)"><rect class="basic label-container" style="" x="-78.95624923706055" y="-27" width="157.9124984741211" height="54"></rect><g class="label" style="" transform="translate(-48.95624923706055, -12)"><rect></rect><foreignobject width="97.9124984741211" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>执行PWM任务</p></span></div></foreignobject></g></g><g class="node default" id="flowchart-E4-11" transform="translate(616.2812652587891, 126.95625305175781)"><rect class="basic label-container" style="" x="-78.95624923706055" y="-27" width="157.9124984741211" height="54"></rect><g class="label" style="" transform="translate(-48.95624923706055, -12)"><rect></rect><foreignobject width="97.9124984741211" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>PWM任务结束</p></span></div></foreignobject></g></g></g></g><g class="root" transform="translate(2.868743896484375, 1091.546875)"><g class="clusters"><g class="cluster" id="其它任务" data-look="classic"><rect style="" x="8" y="8" width="719" height="245"></rect><g class="cluster-label" transform="translate(335.5, 8)"><foreignobject width="64" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>其它任务</p></span></div></foreignobject></g></g></g><g class="edgePaths"><path d="M192.944,144.556L203.62,147.63C214.296,150.704,235.648,156.852,253.241,159.926C270.833,163,284.667,163,291.583,163L298.5,163" id="L_B5_C5_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B5_C5_0" data-points="W3sieCI6MTkyLjk0NDEwODc2MTMyOTMyLCJ5IjoxNDQuNTU1ODkxMjM4NjcwNjh9LHsieCI6MjU3LCJ5IjoxNjN9LHsieCI6MzAyLjUsInkiOjE2M31d" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path><path d="M190.69,105.19L201.741,101.491C212.793,97.793,234.897,90.397,266.532,86.698C298.167,83,339.333,83,379.167,83C419,83,457.5,83,483.288,85.434C509.076,87.868,522.152,92.736,528.69,95.17L535.228,97.604" id="L_B5_E5_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B5_E5_0" data-points="W3sieCI6MTkwLjY4OTUwNDM3MzE3Nzg0LCJ5IjoxMDUuMTg5NTA0MzczMTc3ODR9LHsieCI6MjU3LCJ5Ijo4M30seyJ4IjozODAuNSwieSI6ODN9LHsieCI6NDk2LCJ5Ijo4M30seyJ4Ijo1MzguOTc2NzQ0MTg2MDQ2NSwieSI6OTl9XQ==" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path><path d="M458.5,163L464.75,163C471,163,483.5,163,495.365,161.201C507.23,159.402,518.46,155.805,524.076,154.006L529.691,152.207" id="L_C5_E5_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C5_E5_0" data-points="W3sieCI6NDU4LjUsInkiOjE2M30seyJ4Ijo0OTYsInkiOjE2M30seyJ4Ijo1MzMuNSwieSI6MTUwLjk4NzAxMjk4NzAxMjk3fV0=" marker-end="url(#mermaid-1769306639789_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(257, 163)"><g class="label" data-id="L_B5_C5_0" transform="translate(-8, -12)"><foreignobject width="16" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>是</p></span></div></foreignobject></g></g><g class="edgeLabel" transform="translate(380.5, 83)"><g class="label" data-id="L_B5_E5_0" transform="translate(-8, -12)"><foreignobject width="16" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>否</p></span></div></foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_C5_E5_0" transform="translate(0, 0)"><foreignobject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g class="node default" id="flowchart-B5-0" transform="translate(128.5, 126)"><polygon points="83,0 166,-83 83,-166 0,-83" class="label-container" transform="translate(-82.5, 83)"></polygon><g class="label" style="" transform="translate(-56, -12)"><rect></rect><foreignobject width="112" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>执行其它任务？</p></span></div></foreignobject></g></g><g class="node default" id="flowchart-C5-2" transform="translate(380.5, 163)"><rect class="basic label-container" style="" x="-78" y="-27" width="156" height="54"></rect><g class="label" style="" transform="translate(-48, -12)"><rect></rect><foreignobject width="96" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>执行其它任务</p></span></div></foreignobject></g></g><g class="node default" id="flowchart-E5-4" transform="translate(611.5, 126)"><rect class="basic label-container" style="" x="-78" y="-27" width="156" height="54"></rect><g class="label" style="" transform="translate(-48, -12)"><rect></rect><foreignobject width="96" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>其它任务结束</p></span></div></foreignobject></g></g></g></g><g class="node default" id="flowchart-上电-28" transform="translate(573.0531158447266, 35)"><rect class="basic label-container" style="" x="-46" y="-27" width="92" height="54"></rect><g class="label" style="" transform="translate(-16, -12)"><rect></rect><foreignobject width="32" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>上电</p></span></div></foreignobject></g></g><g class="node default" id="flowchart-A-29" transform="translate(573.0531158447266, 139)"><rect class="basic label-container" style="" x="-54" y="-27" width="108" height="54"></rect><g class="label" style="" transform="translate(-24, -12)"><rect></rect><foreignobject width="48" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>初始化</p></span></div></foreignobject></g></g><g class="node default" id="flowchart-H-39" transform="translate(573.0531158447266, 1517.546875)"><polygon points="99,0 198,-99 99,-198 0,-99" class="label-container" transform="translate(-98.5, 99)"></polygon><g class="label" style="" transform="translate(-72, -12)"><rect></rect><foreignobject width="144" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>达到最大循环次数？</p></span></div></foreignobject></g></g><g class="node default" id="flowchart-结束-43" transform="translate(573.0531158447266, 1717.546875)"><rect class="basic label-container" style="" x="-46" y="-27" width="92" height="54"></rect><g class="label" style="" transform="translate(-16, -12)"><rect></rect><foreignobject width="32" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>结束</p></span></div></foreignobject></g></g></g></g></g></svg></div><p>仿真精度和运算效率是判断嵌入式软件环境模拟效果好坏的重要标准。具体实现过程本文不再展开。</p>

      </div>
      
  <div class="mermaidTooltip" style="opacity: 0;"></div></body></html>